{"version":3,"sources":["../../src/components/World.js"],"names":["World","color","width","height","game","_color","_width","_height","_player","_ball","_enemy","_powerUps","posY","reflect","posX","hasBlocked","scoreUp","reset","context","update","console","log","speedX","chase","stopChasing","fillStyle","fillRect","canvas","draw","subscribe","_checkCollision","bind","ball","player","enemy"],"mappings":";;;;;;;;;;IAAaA,K,WAAAA,K;AACZ,gBAAYC,KAAZ,EAAmBC,KAAnB,EAA0BC,MAA1B,EAAkCC,IAAlC,EAAwC;AAAA;;AACvC,OAAKC,MAAL,GAAiBJ,KAAjB;AACA,OAAKK,MAAL,GAAiBJ,KAAjB;AACA,OAAKK,OAAL,GAAiBJ,MAAjB;AACA,OAAKK,OAAL,GAAiB,EAAjB;AACA,OAAKC,KAAL,GAAiB,EAAjB;AACA,OAAKC,MAAL,GAAiB,EAAjB;AACA,OAAKC,SAAL,GAAiB,EAAjB;AACA;;;;oCAMiB;AACjB,OAAI,KAAKF,KAAL,CAAWG,IAAX,IAAmB,CAAnB,IAAwB,KAAKH,KAAL,CAAWG,IAAX,IAAmB,KAAKL,OAApD,EAA6D;AAC5D,SAAKE,KAAL,CAAWI,OAAX,CAAmB,GAAnB;AACA;;AAED,OAAI,KAAKJ,KAAL,CAAWK,IAAX,IAAmB,EAAnB,IAAyB,KAAKL,KAAL,CAAWK,IAAX,IAAmB,KAAKR,MAAL,GAAc,EAA9D,EAAkE;AACjE;AACA;;AAED,OAAI,KAAKE,OAAL,CAAaO,UAAb,CAAwB,KAAKN,KAA7B,CAAJ,EAAyC;AACxC,SAAKD,OAAL,CAAaQ,OAAb;AACA,IAFD,MAGK,IAAI,KAAKN,MAAL,CAAYK,UAAZ,CAAuB,KAAKN,KAA5B,CAAJ,EAAwC;AAC5C,SAAKC,MAAL,CAAYM,OAAZ;AACA,IAFI,MAGA;AACJ,SAAKP,KAAL,CAAWQ,KAAX;AACA;;AAED,QAAKR,KAAL,CAAWI,OAAX,CAAmB,GAAnB;AACA;;;yBAEMK,O,EAAS;AACf,QAAKT,KAAL,CAAWU,MAAX,CAAkBD,OAAlB;AACA,QAAKV,OAAL,CAAaW,MAAb,CAAoBD,OAApB;AACA,QAAKR,MAAL,CAAYS,MAAZ,CAAmBD,OAAnB;;AAEAE,WAAQC,GAAR,CAAY,YAAZ,EAA0B,KAAKZ,KAAL,CAAWa,MAArC;;AAEA,OAAI,KAAKb,KAAL,CAAWa,MAAX,GAAoB,CAAxB,EAA2B;AAC1B,SAAKZ,MAAL,CAAYa,KAAZ,CAAkB,KAAKd,KAAvB;AACA,IAFD,MAGK;AACJ,SAAKC,MAAL,CAAYc,WAAZ;AACA;AACD;;;uBAEIN,O,EAAS;AACbA,WAAQO,SAAR,GAAoB,KAAKpB,MAAzB;AACAa,WAAQQ,QAAR,CAAiB,CAAjB,EAAoB,CAApB,EAAuBR,QAAQS,MAAR,CAAezB,KAAtC,EAA6CgB,QAAQS,MAAR,CAAexB,MAA5D;;AAEA,QAAKM,KAAL,CAAWmB,IAAX,CAAgBV,OAAhB;AACA,QAAKV,OAAL,CAAaoB,IAAb,CAAkBV,OAAlB;AACA,QAAKR,MAAL,CAAYkB,IAAZ,CAAiBV,OAAjB;AACA;;;yBAEM;AACN,QAAKT,KAAL,CAAWoB,SAAX,CAAqB,MAArB,EAA6B,KAAKC,eAAL,CAAqBC,IAArB,CAA0B,IAA1B,CAA7B;AACA;;;oBApDQC,I,EAAU;AAAE,QAAKvB,KAAL,GAAauB,IAAb;AAAmB;;;oBAC7BC,M,EAAQ;AAAE,QAAKzB,OAAL,GAAeyB,MAAf;AAAuB;;;oBAClCC,K,EAAS;AAAE,QAAKxB,MAAL,GAAcwB,KAAd;AAAqB","file":"World.js","sourcesContent":["export class World {\n\tconstructor(color, width, height, game) {\n\t\tthis._color    = color\n\t\tthis._width    = width\n\t\tthis._height   = height\n\t\tthis._player   = {}\n\t\tthis._ball     = {}\n\t\tthis._enemy    = {}\n\t\tthis._powerUps = []\n\t}\n\n\tset ball(ball)     { this._ball = ball }\n\tset player(player) { this._player = player }\n\tset enemy(enemy)   { this._enemy = enemy }\n\n\t_checkCollision() {\n\t\tif (this._ball.posY <= 0 || this._ball.posY >= this._height) {\n\t\t\tthis._ball.reflect('y')\n\t\t}\n\n\t\tif (this._ball.posX >= 10 && this._ball.posX <= this._width - 10) {\n\t\t\treturn\n\t\t}\n\n\t\tif (this._player.hasBlocked(this._ball)) {\n\t\t\tthis._player.scoreUp()\n\t\t}\n\t\telse if (this._enemy.hasBlocked(this._ball)) {\n\t\t\tthis._enemy.scoreUp()\n\t\t}\n\t\telse {\n\t\t\tthis._ball.reset()\n\t\t}\n\n\t\tthis._ball.reflect('x')\n\t}\n\n\tupdate(context) {\n\t\tthis._ball.update(context)\n\t\tthis._player.update(context)\n\t\tthis._enemy.update(context)\n\n\t\tconsole.log('ball speed', this._ball.speedX)\n\n\t\tif (this._ball.speedX > 0) {\n\t\t\tthis._enemy.chase(this._ball)\n\t\t}\n\t\telse {\n\t\t\tthis._enemy.stopChasing()\n\t\t}\n\t}\n\n\tdraw(context) {\n\t\tcontext.fillStyle = this._color\n\t\tcontext.fillRect(0, 0, context.canvas.width, context.canvas.height)\n\n\t\tthis._ball.draw(context)\n\t\tthis._player.draw(context)\n\t\tthis._enemy.draw(context)\n\t}\n\n\tinit() {\n\t\tthis._ball.subscribe('move', this._checkCollision.bind(this))\n\t}\n}\n"]}